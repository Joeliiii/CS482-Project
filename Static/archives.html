<!doctype html>
<html lang="en" class="bg-dark text-light">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>YBT League ‚Äî Game Archives</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
:root{
--ybt-yellow:#eab308;
--ybt-yellow-2:#facc15;
--ybt-border:rgba(234,179,8,.25);
}
body{background-color:#0b0b0b;color:#e5e5e5;}
.ybt-border{border-color:var(--ybt-border)!important}
.ybt-card{background:#171717;border:1px solid var(--ybt-border);}
.link-hover:hover{color:var(--ybt-yellow-2)!important}
.bg-ybt{background:var(--ybt-yellow)!important;color:#111!important}
.text-ybt{color:var(--ybt-yellow)!important}
.navbar{background-color:rgba(18,18,18,.95)!important;border-bottom:1px solid var(--ybt-border);backdrop-filter:saturate(180%) blur(6px)}
.ticker{border-top:1px solid var(--ybt-border);background:#111}
.rounded-2xl{border-radius:1rem}
.btn-ybt{background:var(--ybt-yellow);color:#111;border:none;font-weight:600}
.btn-ybt:hover{background:var(--ybt-yellow-2);color:#111}
.video-card{cursor:pointer;transition:transform .2s}
.video-card:hover{transform:translateY(-4px)}
.video-thumbnail{position:relative;padding-bottom:56.25%;background:#000;overflow:hidden;border-radius:1rem 1rem 0 0}
.video-thumbnail img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}
.video-duration{position:absolute;bottom:8px;right:8px;background:rgba(0,0,0,.8);color:#fff;padding:2px 8px;border-radius:4px;font-size:.875rem}
.play-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);opacity:0;transition:opacity .3s}
.video-card:hover .play-overlay{opacity:1}
.play-button{width:60px;height:60px;background:var(--ybt-yellow);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#111}
.modal{background:rgba(0,0,0,.8)}
.modal-content{background:#171717;border:1px solid var(--ybt-border)}
</style>
</head>
<body class="min-vh-100 d-flex flex-column">
<header class="sticky-top">
<nav class="navbar navbar-expand-md navbar-dark">
<div class="container-xl py-2">
<a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
<span class="d-inline-block rounded bg-ybt" style="width:32px;height:32px"></span>
<strong>YBT&nbsp;League</strong>
</a>
<div class="ms-auto">
<a href="login.html" class="btn bg-ybt rounded-pill me-2">Log In</a>
<a href="profile.html" class="btn btn-outline-secondary rounded-pill">Profile</a>
</div>
</div>
</nav>
<div class="border-top ticker">
<div class="container-xl py-2 small text-secondary d-flex gap-4 overflow-auto">
<span><strong class="text-ybt">Tigers</strong> 56 ‚Äî 48 <strong class="text-ybt">Lions</strong></span>
<span><strong class="text-ybt">Hawks</strong> 50 ‚Äî 42 <strong class="text-ybt">Bulls</strong></span>
<span><strong class="text-ybt">Wolves</strong> 61 ‚Äî 59 <strong class="text-ybt">Eagles</strong></span>
</div>
</div>
</header>

<main class="flex-grow-1 py-5">
<div class="container-xl">
<div class="text-center mb-5">
<h1 class="display-5 fw-bold text-ybt mb-2">üìπ Game Archives</h1>
<p class="lead text-secondary">Watch past games and highlights</p>
</div>

<section class="mb-4">
<div class="ybt-card rounded-2xl p-4">
<h2 class="h5 fw-bold text-ybt mb-3">Filter Archives</h2>
<div class="d-flex gap-2 flex-wrap">
<button class="btn bg-ybt rounded-pill" id="filter-all" onclick="filterArchives('all')">All Games</button>
<button class="btn btn-outline-secondary rounded-pill" id="filter-recent" onclick="filterArchives('recent')">Recent</button>
<button class="btn btn-outline-secondary rounded-pill" id="filter-popular" onclick="filterArchives('popular')">Most Viewed</button>
</div>
</div>
</section>

<section id="loading-section" style="display:none">
<div class="text-center py-5">
<div class="spinner-border text-ybt" role="status">
<span class="visually-hidden">Loading...</span>
</div>
</div>
</section>

<section id="error-section" style="display:none">
<div class="alert alert-danger rounded-2xl"></div>
</section>

<section id="archives-section">
<div class="row g-4" id="archives-grid">
<!-- Video cards will be inserted here -->
</div>
</section>
</div>
</main>

<footer class="border-top ybt-border bg-black">
<div class="container-xl py-4 small d-flex flex-column flex-md-row justify-content-between">
<div>¬© 2025 YBT League</div>
<nav class="d-flex gap-3">
<a class="link-hover link-light text-decoration-none" href="contact.html">Contact</a>
<a class="link-hover link-light text-decoration-none" href="index.html">Home</a>
<a class="link-hover link-light text-decoration-none" href="profile.html">Profile</a>
</nav>
</div>
</footer>

<!-- Video Modal -->
<div class="modal fade" id="videoModal" tabindex="-1">
<div class="modal-dialog modal-dialog-centered modal-lg">
<div class="modal-content">
<div class="modal-header border-bottom ybt-border">
<h5 class="modal-title text-ybt" id="videoModalTitle"></h5>
<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body p-0">
<div class="ratio ratio-16x9">
<video id="videoPlayer" controls class="w-100">
Your browser does not support the video tag.
</video>
</div>
</div>
<div class="modal-footer border-top ybt-border">
<div class="w-100">
<p class="text-secondary mb-2" id="videoDescription"></p>
<div class="d-flex justify-content-between text-secondary small">
<span id="videoDate"></span>
<span id="videoViews"></span>
</div>
</div>
</div>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
let currentFilter = 'all';
let videoModal;

// Sample archive data (in production.. this would come from API)
const sampleArchives = [
    {
        _id: '1',
        title: 'Hawks vs Eagles - Championship Final',
        description: 'An intense championship game with incredible plays',
        gameDate: '2024-10-28T14:00:00Z',
        thumbnailUrl: 'https://placehold.co/640x360/171717/eab308?text=Hawks+vs+Eagles',
        videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
        duration: 7200,
        views: 1542
    },
    {
        _id: '2',
        title: 'Raptors vs Thunder - Overtime Thriller',
        description: 'Game went into double overtime with amazing performances',
        gameDate: '2024-10-25T16:00:00Z',
        thumbnailUrl: 'https://placehold.co/640x360/171717/eab308?text=Raptors+vs+Thunder',
        videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',
        duration: 8100,
        views: 2103
    },
    {
        _id: '3',
        title: 'Wildcats vs Tigers - Season Opener',
        description: 'The season starts with an exciting matchup',
        gameDate: '2024-10-20T10:00:00Z',
        thumbnailUrl: 'https://placehold.co/640x360/171717/eab308?text=Wildcats+vs+Tigers',
        videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',
        duration: 6900,
        views: 856
    },
    {
        _id: '4',
        title: 'Lions vs Bears - Rivalry Game',
        description: 'Historic rivalry continues with this heated match',
        gameDate: '2024-10-15T12:00:00Z',
        thumbnailUrl: 'https://placehold.co/640x360/171717/eab308?text=Lions+vs+Bears',
        videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4',
        duration: 7500,
        views: 1789
    }
];

document.addEventListener('DOMContentLoaded', () => {
    videoModal = new bootstrap.Modal(document.getElementById('videoModal'));
    loadArchives();
});

function loadArchives() {
    showLoading(true);
    
    setTimeout(() => {
        let filteredArchives = [...sampleArchives];
        
        if (currentFilter === 'recent') {
            filteredArchives.sort((a, b) => new Date(b.gameDate) - new Date(a.gameDate));
        } else if (currentFilter === 'popular') {
            filteredArchives.sort((a, b) => b.views - a.views);
        }
        
        displayArchives(filteredArchives);
        showLoading(false);
    }, 500);
}

function showLoading(show) {
    document.getElementById('loading-section').style.display = show ? 'block' : 'none';
    document.getElementById('archives-section').style.display = show ? 'none' : 'block';
}

function displayArchives(archives) {
    const grid = document.getElementById('archives-grid');
    
    if (archives.length === 0) {
        grid.innerHTML = '<div class="col-12"><div class="ybt-card rounded-2xl p-5 text-center text-secondary"><p class="mb-0">No archived games available.</p></div></div>';
        return;
    }
    
    grid.innerHTML = archives.map(archive => `
        <div class="col-md-6 col-lg-4">
            <div class="ybt-card video-card rounded-2xl overflow-hidden h-100" onclick="playVideo('${archive._id}')">
                <div class="video-thumbnail">
                    ${archive.thumbnailUrl 
                        ? `<img src="${archive.thumbnailUrl}" alt="${archive.title}">`
                        : '<div class="d-flex align-items-center justify-content-center h-100"><span class="text-secondary fs-1">üèÄ</span></div>'
                    }
                    <div class="video-duration">${formatDuration(archive.duration)}</div>
                    <div class="play-overlay">
                        <div class="play-button">‚ñ∂</div>
                    </div>
                </div>
                <div class="p-3">
                    <h3 class="h6 fw-bold text-ybt mb-2">${archive.title}</h3>
                    <p class="text-secondary small mb-2">${archive.description}</p>
                    <div class="d-flex justify-content-between text-secondary small">
                        <span>${formatDate(archive.gameDate)}</span>
                        <span>${archive.views.toLocaleString()} views</span>
                    </div>
                </div>
            </div>
        </div>
    `).join('');
}

function filterArchives(filter) {
    currentFilter = filter;
    
    document.querySelectorAll('[id^="filter-"]').forEach(btn => {
        btn.className = 'btn btn-outline-secondary rounded-pill';
    });
    document.getElementById(`filter-${filter}`).className = 'btn bg-ybt rounded-pill';
    
    loadArchives();
}

function playVideo(archiveId) {
    const archive = sampleArchives.find(a => a._id === archiveId);
    if (!archive) return;
    
    document.getElementById('videoModalTitle').textContent = archive.title;
    document.getElementById('videoDescription').textContent = archive.description;
    document.getElementById('videoDate').textContent = formatDate(archive.gameDate);
    document.getElementById('videoViews').textContent = `${archive.views.toLocaleString()} views`;
    
    const videoPlayer = document.getElementById('videoPlayer');
    videoPlayer.src = archive.videoUrl;
    
    videoModal.show();
    
    document.getElementById('videoModal').addEventListener('hidden.bs.modal', () => {
        videoPlayer.pause();
        videoPlayer.currentTime = 0;
    });
}

function formatDate(dateString) {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', { 
        weekday: 'short', 
        year: 'numeric', 
        month: 'short', 
        day: 'numeric' 
    });
}

function formatDuration(seconds) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);
    if (hours > 0) {
        return `${hours}:${minutes.toString().padStart(2, '0')}:00`;
    }
    return `${minutes}:${(seconds % 60).toString().padStart(2, '0')}`;
}
</script>
</body>
</html>